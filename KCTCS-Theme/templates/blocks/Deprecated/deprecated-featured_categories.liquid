{%- liquid 
    assign alignment = content_block.alignment | default: blank
    assign count = content_block.product_categories.size

   capture alignment_value
     case alignment
       when "left"
         assign alignment = "sc-align-items-left"
       when "center"
         assign alignment = "sc-align-items-center"
       when "right"
         assign alignment = "sc-align-items-end"
     endcase
   endcapture 
%}

<section class="SC-ContentBlock SC-FeaturedCategories sc-expand tns-cards"
         id="SC-ContentBlock-{{ content_block.identifier }}">

  {% if content_block.title != blank or content_block.subtitle %}
  <div class="SC-FeaturedCategories_header sc-flex-col sc-ms-auto sc-mb-base sc-flex-col{% if alignment_value != blank %} {{ alignment_value }}{% endif %}">
    {% if content_block.title != blank %}
      <h2 class="sc-font-bold sc-m-none">{{ content_block.title }}</h2>
    {% endif %}
    {% if content_block.subtitle != blank %}
      <p class="sc-font-large">{{ content_block.subtitle }}</p>
    {% endif %}
  </div>
  {% endif %}

  {%- if count <= 4 %}
    <div class="sc-grid sc-two-to-four-column sc-gap sc-ms-auto">
      {%- for product_category in content_block.product_categories %}
        {%- render "shared/category_card", product_category: product_category %}
      {%- endfor %}
    </div>
  {%- elsif count >  4 %}
    <div class="sc-ms-auto">
      <div data-featured-slider="{{ content_block.identifier }}">
        {%- for product_category in content_block.product_categories %}
          {%- render "shared/category_card", product_category: product_category %}
        {%- endfor %}
      </div>
    </div>
  {%- endif %}

  <div class="SC-FeaturedCategories_footer sc-flex sc-justify-center sc-mt-base sc-ms-auto">
    <div>
      <a class="SC-Link" href="{{ content_block.link_target }}">
        <span>{{ content_block.link_label }}</span>
      </a>
    </div>
  </div>
</section>